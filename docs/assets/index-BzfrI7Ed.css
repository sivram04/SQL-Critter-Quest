:root{--bg-jungle:#0e2a1d;--bg-scene:url(/bg-jungle-scene.png);--beige:#fbf4df;--beige-dark:#e6dcc1;--beige-edge:#cdbf9b;--panel:#163526;--panel-2:#1b3d2c;--ink:#1f2933;--muted-ink:#1f2933b3;--cream:#fff3d6;--cream-2:#f6ead0;--deep-green:#143826;--primary:#2fd37a;--primary-hover:#20b565;--warning:#ffcc4d;--danger:#ff6b57;--danger-hover:#ff5740;--border:#1f293324;--panel-border:#ffffff1f;--focus:#2fd37a47;--shadow-soft:0 10px 26px #0000002e;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:16px;font-weight:550;line-height:1.5}*{box-sizing:border-box}html,body{width:100%;max-width:100%;height:100%;overflow-x:hidden}body{background-color:var(--bg-jungle);background-image:var(--bg-scene);background-position:50%;background-size:cover;background-attachment:fixed;justify-content:center;align-items:flex-start;min-height:100vh;margin:0;padding:22px 14px;display:flex}body:before{content:"";pointer-events:none;background:#0e2a1d8c;position:fixed;inset:0}.hidden{display:none!important}.muted{opacity:.78}.small{font-size:13px}.container{background:var(--beige);border:4px solid var(--beige-dark);width:min(1400px,100%);max-width:1400px;box-shadow:0 18px 45px #0006,inset 0 0 0 3px var(--beige-edge);z-index:1;border-radius:26px;padding:18px;position:relative;overflow:hidden}.container:before{content:"";pointer-events:none;opacity:.22;background:radial-gradient(700px 300px at 50% -10%,#1f29331a,#0000 70%),radial-gradient(700px 300px at 50% 110%,#1f293314,#0000 70%);position:absolute;inset:0}h1,h2{margin:0}.brand-title,.start-title{letter-spacing:.4px;color:var(--deep-green);font-weight:1000}.brand-title{font-size:30px}.start-title{font-size:40px}.subtitle{color:var(--muted-ink);max-width:760px;margin:6px 0 0;font-size:15px}.top{justify-content:space-between;align-items:flex-start;gap:14px;margin-bottom:14px;display:flex}.brand{align-items:flex-start;gap:12px;display:flex}.mini-mascot{background:#1f29330f;border:2px solid #1f293329;border-radius:14px;place-items:center;width:46px;height:46px;font-size:22px;display:grid;transform:rotate(-6deg);box-shadow:0 10px 18px #00000024}.stats{flex-wrap:wrap;justify-content:flex-end;gap:10px;display:flex}.stat{text-align:center;border:2px solid var(--beige-edge);background:#fff9ea;border-radius:18px;min-width:110px;padding:10px 12px;box-shadow:0 6px #00000024}.stat-label{color:#1f29339e;font-size:12px;font-weight:900}.stat-value{color:var(--ink);font-size:22px;font-weight:1000}.panel{background:var(--panel);color:var(--cream);border:2px solid #ffffff1a;border-radius:22px;padding:16px;box-shadow:0 10px 22px #0003}#gameLayout,#leftCol,#rightCol,#levelsPanel,#historyPanel,#resultsPanel,.panel,#output,#history,#levelsList,textarea,table{min-width:0}.panel h2,.panel p,.panel .muted,.label,.hint,#history,#output{color:var(--cream)}.panel-head{justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px;display:flex}.mission-left{align-items:center;gap:10px;display:flex}.mission-tag{color:var(--cream);background:#2fd37a2e;border:2px solid #2fd37a40;border-radius:999px;padding:5px 10px;font-size:11px;font-weight:1000}.pill{text-transform:uppercase;letter-spacing:.6px;background:var(--cream);color:#1f2933eb;border:2px solid var(--beige-edge);border-radius:999px;padding:7px 12px;font-size:11px;font-weight:1000;box-shadow:0 5px #00000024}.pill.tiny{padding:6px 10px;font-size:10px}.label{margin:10px 0 6px;font-size:13px;font-weight:900;display:block}#gameLayout{grid-template-columns:minmax(0,1fr) 360px;align-items:start;gap:14px;width:100%;max-width:100%;display:grid}#rightCol{grid-template-rows:1fr auto;gap:14px;max-height:calc(100vh - 24px);display:grid;position:sticky;top:12px}#leftCol,#rightCol{min-width:0}#sql{resize:vertical;background:var(--panel-2);width:100%;min-height:190px;color:var(--cream);border:2px solid #2fd37a59;border-radius:18px;outline:none;padding:14px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:15px;line-height:1.45;box-shadow:inset 0 0 0 1px #ffffff0a}#sql:focus{box-shadow:0 0 0 5px var(--focus);border-color:#2fd37ab3}#sql::placeholder{color:#fff3d6a6}.btn-row{flex-wrap:wrap;align-items:center;gap:10px;margin-top:12px;display:flex}button{cursor:pointer;border:2px solid var(--beige-edge);color:#1f2933f2;background:#fff9ea;border-radius:16px;padding:12px 16px;font-size:14px;font-weight:1000;transition:transform .12s,box-shadow .12s,filter .12s;box-shadow:0 7px #0000002e}button:hover{transform:translateY(-2px)}button:active{transform:translateY(4px);box-shadow:0 3px #0000002e}button:disabled{opacity:.45;cursor:not-allowed;box-shadow:none;transform:none}button.primary{background:var(--primary);color:#0a140ef5;border-color:#0000002e}button.primary:hover{background:var(--primary-hover)}button.ghost{color:var(--cream);background:0 0;border:2px dashed #ffffff40}button.danger,button.ghost.danger{background:var(--cream);color:var(--deep-green);border:2px solid #0000002e}button.danger:hover,button.ghost.danger:hover{background:var(--cream-2)}button.small{border-radius:999px;padding:8px 10px;font-size:12px}button:focus-visible,.name-input:focus-visible,#sql:focus-visible{box-shadow:0 0 0 5px var(--focus);outline:none}.hint-row{align-items:center;gap:10px;margin:10px 0 0;display:flex}.status{min-height:22px;margin-top:10px;font-weight:900}.status.ok{color:#2fd37af5}.status.bad{color:var(--cream);background:#ffcc4d24;border:2px solid #ffcc4d3d;border-radius:14px;padding:6px 10px;display:inline-block}#resultsPanel{overflow:hidden}#output{background:var(--panel-2);border:2px solid #ffffff1a;border-radius:18px;max-height:380px;margin-top:10px;padding:12px;overflow:auto}.error{color:var(--cream);background:#ff6b572e;border:2px solid #ff6b5742;border-radius:16px;margin:0;padding:10px 12px}.levels-panel{flex-direction:column;min-height:260px;display:flex;overflow:hidden}.levels-panel .levels-help{margin-bottom:10px;font-size:12px}.levels-list{gap:8px;min-height:0;padding-right:4px;display:grid;overflow:auto}.level-item{text-align:left;width:100%;color:var(--cream);box-shadow:none;cursor:pointer;background:#ffffff0d;border:1px solid #ffffff1a;border-radius:16px;padding:10px 12px}.level-item:hover{transform:translateY(-1px)}.level-item .li-top{justify-content:space-between;align-items:center;gap:10px;display:flex}.level-item .li-num{opacity:.95;font-size:12px;font-weight:1100}.level-item .li-title{font-size:13px;font-weight:1000}.level-item .li-sub{opacity:.78;margin-top:4px;font-size:12px}.level-item.current{box-shadow:0 0 0 4px var(--focus);border-color:#2fd37ab3}.level-item.locked{opacity:.45;cursor:not-allowed}.level-item.locked:hover{transform:none}#historyPanel{flex-direction:column;max-height:320px;display:flex;overflow:hidden}.history{min-height:0;padding-right:4px;overflow:auto}.history-item{background:#ffffff0a;border:1px solid #ffffff14;border-radius:16px;margin-top:10px;padding:10px 10px 12px}.history-item .meta{opacity:.85;justify-content:space-between;gap:10px;margin-bottom:8px;font-size:12px;display:flex}.history-item pre{white-space:pre-wrap;word-break:break-word;margin:0;font-size:12.5px;line-height:1.35}table{border-collapse:collapse;width:100%}thead th{text-align:left;color:var(--cream);background:#ffffff0f;border-bottom:2px solid #ffffff1a;padding:10px;font-size:12px;font-weight:1000;position:sticky;top:0}tbody td{color:var(--cream);border-bottom:1px solid #ffffff14;padding:10px;font-size:13px}tbody tr:hover td{background:#ffffff0d}#output table{width:max-content;min-width:520px;max-width:none}.start-screen{text-align:center;padding:22px 10px 12px}.start-subtitle{color:#1f2933b8;max-width:760px;margin:10px auto 18px;font-weight:700}.start-btn{background:var(--primary);color:var(--cream);border:2px solid #0000002e;border-radius:18px;margin:10px auto 18px;padding:14px 22px;font-weight:1100;box-shadow:0 10px #0000002e}.start-btn:hover{background:var(--primary-hover)}#startScreen #savePlayer.ghost.small{background:var(--cream);color:var(--deep-green);border:2px solid var(--beige-edge)}#startScreen #savePlayer.ghost.small:hover{background:var(--cream-2)}.start-leaderboard{grid-template-columns:1fr 1fr;gap:12px;margin-top:12px;display:grid}.name-row{align-items:center;gap:10px;margin-top:10px;display:flex}.name-input{background:var(--panel-2);color:var(--cream);border:2px solid #2fd37a4d;border-radius:16px;outline:none;flex:1;padding:12px 14px;font-weight:900}.name-input:focus{box-shadow:0 0 0 5px var(--focus)}.start-grid{grid-template-columns:1fr 1fr;gap:12px;margin-top:12px;display:grid}.start-card{text-align:left;color:#1f2933eb;background:#fff9ea;border:2px solid #1f293324;border-radius:22px;padding:16px}.start-card h2{margin-bottom:8px;font-size:16px;font-weight:1000}.start-card ul{color:#1f2933d9;margin:10px 0 0;padding-left:18px;font-weight:700}@media (max-width:1100px){#gameLayout{grid-template-columns:1fr}#rightCol{max-height:none;position:relative;top:auto}#historyPanel{max-height:none}#output{max-height:340px}}@media (max-width:900px){.top{flex-direction:column;align-items:stretch}.stats{justify-content:flex-start}.start-grid,.start-leaderboard{grid-template-columns:1fr}#output table{min-width:460px}}.win-popup{z-index:9999;pointer-events:auto;background:#0000008c;place-items:center;padding:16px;display:grid;position:fixed;inset:0}.win-popup.hidden{display:none!important}.win-card{background:var(--beige);border:4px solid var(--beige-dark);text-align:center;border-radius:24px;width:min(520px,92vw);padding:18px 18px 16px;position:relative;overflow:hidden;box-shadow:0 24px 70px #00000059}.win-title{color:#1f2933f2;margin:0;font-size:26px;font-weight:1100}.win-msg{color:#1f2933cc;margin:6px 0 8px;font-weight:800}.win-quote{color:#1f2933ad;margin:0 0 14px;font-style:italic;font-weight:700}body.modal-open{overflow:hidden}#leaderboardPopup .win-card{text-align:left;-webkit-overflow-scrolling:touch;max-height:80vh;overflow:auto}#leaderboardPopup table{width:100%}#leaderboardPopup td,#leaderboardPopup th{white-space:nowrap}.win-card{position:relative}.win-card.win-anim{animation:.52s cubic-bezier(.2,1.25,.3,1) both winPop}@keyframes winPop{0%{opacity:0;transform:translateY(16px)scale(.86)}60%{opacity:1;transform:translateY(0)scale(1.03)}to{transform:translateY(0)scale(1)}}.win-card:after{content:"";pointer-events:none;opacity:0;border-radius:28px;position:absolute;inset:-8px;box-shadow:0 0 #2fd37a00}.win-card.win-anim:after{animation:.9s ease-out both winGlow}@keyframes winGlow{0%{opacity:0;box-shadow:0 0 #2fd37a00}30%{opacity:1;box-shadow:0 0 0 10px #2fd37a2e}70%{opacity:1;box-shadow:0 0 0 18px #2fd37a1a}to{opacity:0;box-shadow:0 0 0 26px #2fd37a00}}.win-title{animation:none}.win-card.win-anim .win-title{animation:.7s ease-out both winWiggle}@keyframes winWiggle{0%{opacity:0;transform:translateY(-6px)}50%{opacity:1;transform:translateY(0)}70%{transform:rotate(1deg)}85%{transform:rotate(-1deg)}to{transform:rotate(0)}}#leaderboardPopup .win-card{background:var(--beige);color:var(--ink)}#leaderboardPopup table thead th,#leaderboardPopup table tbody td{color:var(--ink)}#leaderboardPopup table thead th{background:#1f29330f;border-bottom:2px solid #1f29331f}#leaderboardPopup button.ghost{background:var(--cream);color:var(--deep-green);border:2px solid var(--beige-edge);box-shadow:0 7px #0000002e}#leaderboardPopup button.ghost:hover{background:var(--cream-2)}#leaderboardPopup button.danger,#leaderboardPopup button.ghost.danger{background:var(--cream);color:var(--deep-green);border:2px solid var(--beige-edge)}#dataPopup.win-popup{z-index:9999;background:#0000008c;place-items:center;padding:16px;display:grid;position:fixed;inset:0}#dataPopup.win-popup.hidden{display:none!important}#dataPopup .win-card{-webkit-overflow-scrolling:touch;background:var(--beige);border:4px solid var(--beige-dark);text-align:left;border-radius:24px;width:min(980px,96vw);max-height:85vh;padding:18px;overflow:auto;box-shadow:0 24px 70px #00000059}#dataPopup #tableList button{text-align:left;background:var(--panel-2);width:100%;color:var(--cream);border:2px solid #2fd37a33;border-radius:16px;margin:8px 0 0;padding:12px;font-weight:1000;box-shadow:inset 0 0 0 1px #ffffff0a}#dataPopup #tableList button:hover{transform:translateY(-2px)}#dataPopup #tableList button.active{box-shadow:0 0 0 5px var(--focus);border-color:#2fd37ab3}#dataPopup .tabs{flex-wrap:wrap;gap:10px;margin:10px 0 12px;display:flex}#dataPopup .tab{cursor:pointer;color:#1f2933d9;background:0 0;border:2px dashed #1f293340;border-radius:999px;padding:9px 12px;font-size:12px;font-weight:1100}#dataPopup .tab.active{background:var(--cream);color:#1f2933eb;border:2px solid var(--beige-edge);box-shadow:0 5px #00000024}#schemaBox,#previewBox{background:var(--panel-2);max-height:45vh;color:var(--cream);border:2px solid #ffffff1a;border-radius:18px;padding:12px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:13px;line-height:1.5;overflow:auto}#dataPopup table thead th,#dataPopup table tbody td{color:var(--cream)}#winEmoji,.win-mascot,.win-sparkles{display:none!important}
